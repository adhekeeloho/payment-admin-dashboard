{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/adhekeeloho/payment-admin-dashboard/src/lib/swr.ts"],"sourcesContent":["import useSWR from 'swr';\nimport { apiFetch, getStoredSession } from './api';\n\ntype FetcherResponse<T> = Promise<T>;\n\ntype UseApiOptions<T> = {\n  fallbackData?: T;\n};\n\nexport const useApi = <T>(path: string | null, options: UseApiOptions<T> = {}) => {\n  const { fallbackData } = options;\n  const session = getStoredSession();\n\n  const fetcher = (url: string): FetcherResponse<T> =>\n    apiFetch<T>(url, {\n      token: session?.accessToken ?? null,\n    });\n\n  return useSWR<T>(path, fetcher, {\n    fallbackData,\n    revalidateOnFocus: false,\n  });\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAQO,MAAM,SAAS,CAAI,MAAqB,UAA4B,CAAC,CAAC;;IAC3E,MAAM,EAAE,YAAY,EAAE,GAAG;IACzB,MAAM,UAAU,IAAA,wIAAgB;IAEhC,MAAM,UAAU,CAAC,MACf,IAAA,gIAAQ,EAAI,KAAK;YACf,OAAO,SAAS,eAAe;QACjC;IAEF,OAAO,IAAA,4KAAM,EAAI,MAAM,SAAS;QAC9B;QACA,mBAAmB;IACrB;AACF;GAba;;QASJ,4KAAM"}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///Users/adhekeeloho/payment-admin-dashboard/src/app/%28dashboard%29/oversight/page.tsx"],"sourcesContent":["'use client';\n\nimport { CheckCircle2, ShieldAlert, XCircle } from 'lucide-react';\nimport { useMemo } from 'react';\nimport { apiFetch } from '@/lib/api';\nimport { useApi } from '@/lib/swr';\nimport { useSWRConfig } from 'swr';\n\ntype ApprovalItem = {\n  id: string;\n  title: string;\n  requestedBy: string;\n  amount: string;\n  status: 'Pending' | 'Approved' | 'Rejected';\n  time: string;\n};\n\ntype AuditItem = {\n  id: string;\n  action: string;\n  actor: string;\n  time: string;\n};\n\nconst initialApprovals: ApprovalItem[] = [\n  {\n    id: 'AP-2041',\n    title: 'High-risk payout override',\n    requestedBy: 'Ava Morgan',\n    amount: '$18,420',\n    status: 'Pending',\n    time: '9:22 AM',\n  },\n  {\n    id: 'AP-2042',\n    title: 'Refund limit increase',\n    requestedBy: 'Dylan Brooks',\n    amount: '$5,000',\n    status: 'Pending',\n    time: '10:05 AM',\n  },\n  {\n    id: 'AP-2039',\n    title: 'Manual payout release',\n    requestedBy: 'Maya Singh',\n    amount: '$9,120',\n    status: 'Approved',\n    time: 'Yesterday',\n  },\n];\n\nconst initialAudit: AuditItem[] = [\n  { id: 'AU-101', action: 'Approved payout override AP-2039', actor: 'You', time: 'Yesterday' },\n  { id: 'AU-102', action: 'Paused risk rule for EU corridor', actor: 'You', time: '2 days ago' },\n  { id: 'AU-103', action: 'Promoted admin access for Ava Morgan', actor: 'You', time: '3 days ago' },\n];\n\nexport default function OversightPage() {\n  const { mutate } = useSWRConfig();\n  const { data: approvalsData } = useApi<\n    | { items?: ApprovalItem[] }\n    | ApprovalItem[]\n    | null\n  >('/approvals', { fallbackData: null });\n  const { data: auditData } = useApi<\n    | { items?: AuditItem[] }\n    | AuditItem[]\n    | null\n  >('/approvals/audit-log', { fallbackData: null });\n\n  const approvals = useMemo(() => {\n    const items = Array.isArray(approvalsData) ? approvalsData : approvalsData?.items ?? [];\n    return items.length ? items : initialApprovals;\n  }, [approvalsData]);\n\n  const audit = useMemo(() => {\n    const items = Array.isArray(auditData) ? auditData : auditData?.items ?? [];\n    return items.length ? items : initialAudit;\n  }, [auditData]);\n\n  const updateApproval = async (id: string, status: ApprovalItem['status']) => {\n    await apiFetch(`/approvals/${id}/${status === 'Approved' ? 'approve' : 'reject'}` , {\n      method: 'POST',\n    });\n    await mutate('/approvals');\n    await mutate('/approvals/audit-log');\n  };\n\n  return (\n    <div className=\"space-y-6 animate-fade-up\">\n      <header>\n        <p className=\"text-sm font-medium text-slate-500 dark:text-slate-400\">Super Admin</p>\n        <h1 className=\"text-2xl font-semibold text-slate-900 dark:text-slate-100\">Oversight</h1>\n        <p className=\"text-sm text-slate-500 dark:text-slate-400\">\n          Review critical changes, approvals, and admin activity across the platform.\n        </p>\n      </header>\n\n      <section className=\"grid gap-4 lg:grid-cols-3\">\n        {[{ label: 'Global revenue', value: '$2.4M', detail: 'All regions, last 30 days' }, { label: 'Payout risk alerts', value: '14', detail: 'Needs review this week' }, { label: 'Admin actions', value: '82', detail: 'Last 7 days' }].map((card) => (\n          <div\n            key={card.label}\n            className=\"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm dark:border-slate-800 dark:bg-slate-900\"\n          >\n            <p className=\"text-sm font-medium text-slate-500 dark:text-slate-400\">{card.label}</p>\n            <p className=\"mt-2 text-3xl font-semibold text-slate-900 dark:text-slate-100\">{card.value}</p>\n            <p className=\"mt-3 text-sm text-slate-500 dark:text-slate-400\">{card.detail}</p>\n          </div>\n        ))}\n      </section>\n\n      <section className=\"grid gap-4 lg:grid-cols-2\">\n        <div className=\"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm dark:border-slate-800 dark:bg-slate-900\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-semibold text-slate-900 dark:text-slate-100\">Approval queue</p>\n              <p className=\"text-sm text-slate-500 dark:text-slate-400\">High-impact actions waiting on review</p>\n            </div>\n            <span className=\"rounded-full bg-amber-50 px-3 py-1 text-xs font-semibold text-amber-700 dark:bg-amber-500/10 dark:text-amber-200\">\n              {approvals.filter((item) => item.status === 'Pending').length} pending\n            </span>\n          </div>\n          <div className=\"mt-5 space-y-4\">\n            {approvals.map((item) => (\n              <div\n                key={item.id}\n                className=\"rounded-2xl border border-slate-200 bg-slate-50 p-4 dark:border-slate-800 dark:bg-slate-950\"\n              >\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-semibold text-slate-900 dark:text-slate-100\">{item.title}</p>\n                    <p className=\"text-xs text-slate-500 dark:text-slate-400\">\n                      {item.requestedBy} • {item.amount}\n                    </p>\n                  </div>\n                  <span className=\"text-xs text-slate-500 dark:text-slate-400\">{item.time}</span>\n                </div>\n                <div className=\"mt-4 flex items-center justify-between\">\n                  <span className={`text-xs font-semibold ${\n                    item.status === 'Approved'\n                      ? 'text-emerald-600'\n                      : item.status === 'Rejected'\n                      ? 'text-rose-500'\n                      : 'text-amber-600'\n                  }`}>\n                    {item.status}\n                  </span>\n                  <div className=\"flex items-center gap-2\">\n                    <button\n                      type=\"button\"\n                      onClick={() => updateApproval(item.id, 'Approved')}\n                      className=\"inline-flex items-center gap-1 rounded-lg bg-emerald-500 px-3 py-1 text-xs font-semibold text-white\"\n                    >\n                      <CheckCircle2 className=\"h-3.5 w-3.5\" />\n                      Approve\n                    </button>\n                    <button\n                      type=\"button\"\n                      onClick={() => updateApproval(item.id, 'Rejected')}\n                      className=\"inline-flex items-center gap-1 rounded-lg bg-rose-500 px-3 py-1 text-xs font-semibold text-white\"\n                    >\n                      <XCircle className=\"h-3.5 w-3.5\" />\n                      Reject\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm dark:border-slate-800 dark:bg-slate-900\">\n          <div className=\"flex items-center gap-3\">\n            <ShieldAlert className=\"h-5 w-5 text-slate-500 dark:text-slate-300\" />\n            <div>\n              <p className=\"text-sm font-semibold text-slate-900 dark:text-slate-100\">Admin activity</p>\n              <p className=\"text-sm text-slate-500 dark:text-slate-400\">Last 30 days</p>\n            </div>\n          </div>\n          <div className=\"mt-5 space-y-4 text-sm text-slate-500 dark:text-slate-400\">\n            {audit.map((log) => (\n              <div key={log.id} className=\"flex items-start gap-2\">\n                <span className=\"mt-1 h-2 w-2 rounded-full bg-slate-400\" />\n                <div>\n                  <p className=\"text-sm text-slate-900 dark:text-slate-100\">{log.action}</p>\n                  <p className=\"text-xs text-slate-500 dark:text-slate-400\">\n                    {log.actor} • {log.time}\n                  </p>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}